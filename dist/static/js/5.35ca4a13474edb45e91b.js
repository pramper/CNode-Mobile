webpackJsonp([5,7],{24:function(o,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{token:"",showLoading:!1,waitPromt:"",backRouter:{name:"index"}}},methods:{login:function(){var o=this;return this.waitPrompt="登录中...",""===this.token.trim()?void alert("令牌格式错误,应为36位UUID字符串"):(this.showLoading=!0,void this.$http.post("https://cnodejs.org/api/v1/accesstoken",{accesstoken:this.token},{emulateJSON:!0}).then(function(t){var e=JSON.parse(t.body);e.success&&(localStorage.loginname=e.loginname,localStorage.avatar_url=e.avatar_url,localStorage.userId=e.id,localStorage.token=o.token,localStorage.success=e.success,o.setToken(!0),o.$route.router.go(o.backRouter))}))}},route:{data:function(o){o.from.path&&(this.backRouter=o.from),o.next()}},vuex:{actions:{setToken:function(o,t){var e=o.dispatch;e("SET_TOKEN",t)}}}}},62:function(o,t,e){t=o.exports=e(1)(),t.push([o.id,"#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}","",{version:3,sources:["/./src/views/Login.vue"],names:[],mappings:"AAAA,OAAO,UAAU,CAAC,qBAAqB,0BAA0B,eAAe,CAAC,gBAAgB,kBAAkB,gBAAgB,CAAC,cAAc,cAAc,UAAU,gCAAgC,iBAAiB,gBAAgB,kBAAkB,mBAAwB,kBAAkB,cAAc,CAAC,eAAe,cAAc,WAAW,YAAY,yBAAyB,WAAW,oBAAoB,aAAa,CAAC",file:"Login.vue",sourcesContent:["#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0 auto;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}"],sourceRoot:"webpack://"}])},77:function(o,t,e){var n=e(62);"string"==typeof n&&(n=[[o.id,n,""]]);e(2)(n,{});n.locals&&(o.exports=n.locals)},94:function(o,t){o.exports=' <div id=login> <input type=text placeholder="Access Token" class=token v-model=token /> <p class=token-prompt>*请从PC端的个人设置中获取 accesstoken</p> <button type=button data-login=login class=button @click=login>登录</button> <p v-if=showLoading class=loading v-text=waitPrompt></p> </div> '},109:function(o,t,e){var n,r;e(77),n=e(24),r=e(94),o.exports=n||{},o.exports.__esModule&&(o.exports=o.exports["default"]),r&&(("function"==typeof o.exports?o.exports.options||(o.exports.options={}):o.exports).template=r)}});
//# sourceMappingURL=5.35ca4a13474edb45e91b.js.map