{"version":3,"sources":["webpack:///static/js/5.35ca4a13474edb45e91b.js","webpack:///Login.vue","webpack:///./src/views/Login.vue?2de5","webpack:///./src/views/Login.vue?03e3","webpack:///./src/views/Login.vue?dd7e","webpack:///./src/views/Login.vue"],"names":["webpackJsonp","24","module","exports","Object","defineProperty","value","data","token","showLoading","waitPromt","backRouter","name","methods","login","_this","this","waitPrompt","trim","alert","$http","post","accesstoken","emulateJSON","then","res","resBody","JSON","parse","body","success","localStorage","loginname","avatar_url","userId","id","setToken","$route","router","go","route","transition","from","path","next","vuex","actions","_ref","isLogin","dispatch","62","__webpack_require__","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","77","content","locals","94","109","__vue_script__","__vue_template__","__esModule","options","template"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,GACA,SAASC,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC3BG,OAAO,IAEXH,cACII,KAAM,WACF,OACIC,MCCb,GDAaC,aCCb,EDAaC,UCCb,GDAaC,YAAcC,KCE3B,WDCKC,SACIC,MAAO,WCChB,GAAAC,GAAAC,IDIa,OAFAA,MAAKC,WCAlB,SDEuC,KAAtBD,KAAKR,MAAMU,WACXC,OCDjB,wBDIaH,KAAKP,aCDlB,MDEaO,MAAKI,MAAMC,KAAK,0CAA4CC,YAAaN,KCDtFR,QAAAe,aAAA,IAAAC,KAAA,SAAAC,GDEiB,GAAIC,GAAUC,KAAKC,MAAMH,ECA1CI,KDEqBH,GAAQI,UACRC,aAAaC,UAAYN,ECA9CM,UDCqBD,aAAaE,WAAaP,ECA/CO,WDCqBF,aAAaG,OAASR,ECA3CS,GDCqBJ,aAAavB,MAAQO,ECA1CP,MDCqBuB,aAAaD,QAAUJ,ECA5CI,QDCqBf,EAAMqB,UCA3B,GDCqBrB,EAAMsB,OAAOC,OAAOC,GAAGxB,ECA5CJ,kBDKK6B,OACIjC,KAAM,SAAckC,GACZA,EAAWC,KAAKC,OAChB3B,KAAKL,WAAa8B,ECAnCC,MDEaD,ECAbG,SDGKC,MACIC,SACIV,SAAU,SAAkBW,EAAMC,GCA/C,GAAAC,GAAAF,EAAAE,QDGiBA,GAAS,YCF1BD,QDUME,GACA,SAAShD,EAAQC,EAASgD,GEnEhChD,EAAAD,EAAAC,QAAAgD,EAAA,KAKAhD,EAAAiD,MAAAlD,EAAAiC,GAAA,8aAAqc,IAAQkB,QAAA,EAAAC,SAAA,0BAAAC,SAAAC,SAAA,4LAAAC,KAAA,YAAAC,gBAAA,obAAytBC,WAAA,iBF4EhqCC,GACA,SAAS1D,EAAQC,EAASgD,GG/EhC,GAAAU,GAAAV,EAAA,GACA,iBAAAU,SAAA3D,EAAAiC,GAAA0B,EAAA,KAEAV,GAAA,GAAAU,KACAA,GAAAC,SAAA5D,EAAAC,QAAA0D,EAAAC,SHqGMC,GACA,SAAS7D,EAAQC,GI7GvBD,EAAAC,QAAA,6RJmHM6D,IACA,SAAS9D,EAAQC,EAASgD,GKpHhC,GAAAc,GAAAC,CACAf,GAAA,IACAc,EAAAd,EAAA,IACAe,EAAAf,EAAA,IACAjD,EAAAC,QAAA8D,MACA/D,EAAAC,QAAAgE,aAAAjE,EAAAC,QAAAD,EAAAC,QAAAD,YACAgE,KACA,kBAAAhE,GAAAC,QAAAD,EAAAC,QAAAiE,UAAAlE,EAAAC,QAAAiE,YAA+FlE,EAAAC,SAAAkE,SAAAH","file":"static/js/5.35ca4a13474edb45e91b.js","sourcesContent":["webpackJsonp([5,7],{\n\n/***/ 24:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            token: '',\n\t            showLoading: false,\n\t            waitPromt: '',\n\t            backRouter: { name: 'index' } };\n\t    },\n\t\n\t    methods: {\n\t        login: function login() {\n\t            var _this = this;\n\t\n\t            this.waitPrompt = \"登录中...\";\n\t\n\t            if (this.token.trim() === \"\") {\n\t                alert(\"令牌格式错误,应为36位UUID字符串\");\n\t                return;\n\t            }\n\t            this.showLoading = true;\n\t            this.$http.post(\"https://cnodejs.org/api/v1/accesstoken\", { accesstoken: this.token }, { emulateJSON: true }).then(function (res) {\n\t                var resBody = JSON.parse(res.body);\n\t                var userInfo = {};\n\t                if (resBody.success) {\n\t                    localStorage.loginname = resBody.loginname;\n\t                    localStorage.avatar_url = resBody.avatar_url;\n\t                    localStorage.userId = resBody.id;\n\t                    localStorage.token = _this.token;\n\t                    localStorage.success = resBody.success;\n\t                    _this.setToken(true);\n\t                    _this.$route.router.go(_this.backRouter);\n\t                }\n\t            });\n\t        }\n\t    },\n\t    route: {\n\t        data: function data(transition) {\n\t            if (transition.from.path) {\n\t                this.backRouter = transition.from;\n\t            }\n\t            transition.next();\n\t        }\n\t    },\n\t    vuex: {\n\t        actions: {\n\t            setToken: function setToken(_ref, isLogin) {\n\t                var dispatch = _ref.dispatch;\n\t\n\t                dispatch('SET_TOKEN', isLogin);\n\t            }\n\t        }\n\t    }\n\t};\n\n/***/ },\n\n/***/ 62:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/Login.vue\"],\"names\":[],\"mappings\":\"AAAA,OAAO,UAAU,CAAC,qBAAqB,0BAA0B,eAAe,CAAC,gBAAgB,kBAAkB,gBAAgB,CAAC,cAAc,cAAc,UAAU,gCAAgC,iBAAiB,gBAAgB,kBAAkB,mBAAwB,kBAAkB,cAAc,CAAC,eAAe,cAAc,WAAW,YAAY,yBAAyB,WAAW,oBAAoB,aAAa,CAAC\",\"file\":\"Login.vue\",\"sourcesContent\":[\"#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0 auto;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 77:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(62);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./../../node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./../../node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 94:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=login> <input type=text placeholder=\\\"Access Token\\\" class=token v-model=token /> <p class=token-prompt>*请从PC端的个人设置中获取 accesstoken</p> <button type=button data-login=login class=button @click=login>登录</button> <p v-if=showLoading class=loading v-text=waitPrompt></p> </div> \";\n\n/***/ },\n\n/***/ 109:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(77)\n\t__vue_script__ = __webpack_require__(24)\n\t__vue_template__ = __webpack_require__(94)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/5.35ca4a13474edb45e91b.js\n **/","<template>\r\n    <div id=\"login\">\r\n        <input type=\"text\" placeholder=\"Access Token\" class=\"token\" v-model=\"token\"/>\r\n        <p class=\"token-prompt\">*请从PC端的个人设置中获取 accesstoken</p>\r\n        <button type=\"button\" data-login=\"login\" class=\"button\" @click=\"login\">登录</button>\r\n        <p v-if=\"showLoading\" class=\"loading\" v-text=\"waitPrompt\"></p>\r\n        \r\n    </div>\r\n</template>\r\n<script>\r\n    export default{\r\n        data() {\r\n            return {\r\n                token: '',\r\n                showLoading: false,\r\n                waitPromt: '',\r\n                backRouter: {name: 'index'} // 记录跳转过来的路由，如果没有，则登录后回到主页\r\n            }\r\n        },\r\n        methods: {\r\n            login() {\r\n                this.waitPrompt = \"登录中...\"\r\n                \r\n                if(this.token.trim() === \"\") {\r\n                    alert(\"令牌格式错误,应为36位UUID字符串\")\r\n                    return \r\n                }\r\n                this.showLoading = true\r\n                this.$http.post(\"https://cnodejs.org/api/v1/accesstoken\", {accesstoken: this.token}, \r\n                    {emulateJSON: true}).then(res => {\r\n                            let resBody = JSON.parse(res.body)\r\n                            let userInfo = {}\r\n                            if(resBody.success) {\r\n                                localStorage.loginname = resBody.loginname\r\n                                localStorage.avatar_url = resBody.avatar_url\r\n                                localStorage.userId = resBody.id\r\n                                localStorage.token = this.token\r\n                                localStorage.success = resBody.success\r\n                                this.setToken(true)\r\n                                this.$route.router.go(this.backRouter) // 跳转回登录前的陀\r\n                            }\r\n                        })\r\n            }\r\n        },\r\n        route: {\r\n            data(transition) {\r\n                if(transition.from.path) {\r\n                    this.backRouter = transition.from\r\n                }\r\n                transition.next()\r\n            }\r\n        },\r\n        vuex: {\r\n            actions: {\r\n                setToken({dispatch}, isLogin) {\r\n                    dispatch('SET_TOKEN', isLogin)\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\">\r\n    \r\n    #login{\r\n        width: 100%;\r\n        .token-prompt{\r\n            margin: 1rem 0 2.5rem 1rem;\r\n            font-size: .8rem;\r\n        }\r\n        .loading{\r\n            text-align: center;\r\n            font-size: 1.1rem;\r\n        }\r\n        .token{\r\n            display: block;\r\n            width: 90%;\r\n            border-bottom: 1px solid #007fff;\r\n            border-left: none;\r\n            border-top: none;\r\n            border-right: none;\r\n            margin: 3rem auto 0 auto;\r\n            text-align: center;\r\n            font-size: 1rem;\r\n        }\r\n        .button{\r\n            display: block;\r\n            width: 9rem;\r\n            height: 3rem;\r\n            background-color: #007fff;\r\n            color: #fff;\r\n            border-radius: .2rem;\r\n            margin: 0 auto;\r\n        }\r\n    }\r\n</style>\n\n\n/** WEBPACK FOOTER **\n ** Login.vue?24934a2d\n **/","exports = module.exports = require(\"./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/Login.vue\"],\"names\":[],\"mappings\":\"AAAA,OAAO,UAAU,CAAC,qBAAqB,0BAA0B,eAAe,CAAC,gBAAgB,kBAAkB,gBAAgB,CAAC,cAAc,cAAc,UAAU,gCAAgC,iBAAiB,gBAAgB,kBAAkB,mBAAwB,kBAAkB,cAAc,CAAC,eAAe,cAAc,WAAW,YAAY,yBAAyB,WAAW,oBAAoB,aAAa,CAAC\",\"file\":\"Login.vue\",\"sourcesContent\":[\"#login{width:100%}#login .token-prompt{margin:1rem 0 2.5rem 1rem;font-size:.8rem}#login .loading{text-align:center;font-size:1.1rem}#login .token{display:block;width:90%;border-bottom:1px solid #007fff;border-left:none;border-top:none;border-right:none;margin:3rem auto 0 auto;text-align:center;font-size:1rem}#login .button{display:block;width:9rem;height:3rem;background-color:#007fff;color:#fff;border-radius:.2rem;margin:0 auto}\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/css-loader/0.23.1/css-loader?sourceMap!./~/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./~/.npminstall/less-loader/2.2.3/less-loader?sourceMap!./~/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./src/views/Login.vue\n ** module id = 62\n ** module chunks = 5\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./../../node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.npminstall/vue-style-loader/1.0.0/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./../../node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.npminstall/css-loader/0.23.1/css-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./../../node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/extract-text-webpack-plugin/1.0.1/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.npminstall/vue-style-loader/1.0.0/vue-style-loader!./~/.npminstall/css-loader/0.23.1/css-loader?sourceMap!./~/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!./~/.npminstall/less-loader/2.2.3/less-loader?sourceMap!./~/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./src/views/Login.vue\n ** module id = 77\n ** module chunks = 5\n **/","module.exports = \" <div id=login> <input type=text placeholder=\\\"Access Token\\\" class=token v-model=token /> <p class=token-prompt>*请从PC端的个人设置中获取 accesstoken</p> <button type=button data-login=login class=button @click=login>登录</button> <p v-if=showLoading class=loading v-text=waitPrompt></p> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/vue-html-loader/1.2.3/vue-html-loader!./~/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=template&index=0!./src/views/Login.vue\n ** module id = 94\n ** module chunks = 5\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/.npminstall/extract-text-webpack-plugin/1.0.1/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=style&index=0!./Login.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=script&index=0!./Login.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/.npminstall/vue-loader/8.5.3/vue-loader/lib/selector.js?type=template&index=0!./Login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/Login.vue\n ** module id = 109\n ** module chunks = 5\n **/"],"sourceRoot":""}